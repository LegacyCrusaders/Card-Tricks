<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Future Call</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  background: black;
  color: white;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  height: 100%;
  overflow: hidden;
}

.screen {
  display: none;
  position: absolute;
  inset: 0;
}

.active { display: flex; }

.center {
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

button {
  background: none;
  border: none;
  color: white;
  font-size: 18px;
}

.icon {
  font-size: 28px;
}

/* TAP */
#tap {
  text-align: center;
}

/* LOCK */
#lock {
  justify-content: space-between;
  padding: 30px;
}

.lock-top {
  text-align: center;
}

.lock-bottom {
  display: flex;
  justify-content: space-between;
}

/* INCOMING */
#incoming {
  background: linear-gradient(#1a1a1a, black);
  text-align: center;
}

.call-buttons {
  display: flex;
  justify-content: space-around;
  width: 100%;
  margin-top: 40px;
}

/* IN CALL */
#inCall {
  text-align: center;
}

.call-controls {
  display: flex;
  justify-content: space-around;
  margin-top: 40px;
}

/* CALL LOG */
#log {
  padding: 20px;
  flex-direction: column;
}

.log-item {
  padding: 12px;
  border-bottom: 1px solid #333;
}
.log-item button {
  width: 100%;
  text-align: left;
}
</style>
</head>

<body>

<!-- TAP -->
<div id="tap" class="screen center active">
  <div>Tap to Begin</div>
  <div style="margin-top:10px;font-size:12px;">Version 5</div>
</div>

<!-- LOCK -->
<div id="lock" class="screen center">
  <div class="lock-top">
    <div class="icon">ðŸ”’</div>
  </div>
  <div class="lock-bottom">
    <div class="icon">ðŸ“ž</div>
    <div class="icon">ðŸ“·</div>
  </div>
</div>

<!-- INCOMING -->
<div id="incoming" class="screen center">
  <div>Future Me</div>
  <div style="margin-top:10px;">Incoming Call</div>
  <div class="call-buttons">
    <button onclick="decline()">Decline</button>
    <button onclick="answer()">Answer</button>
  </div>
</div>

<!-- IN CALL -->
<div id="inCall" class="screen center">
  <div id="callName">Future Me</div>
  <div id="timer">00:00</div>
  <div class="call-controls">
    <button>Mute</button>
    <button onclick="hangUp()">Hang Up</button>
    <button>Keypad</button>
  </div>
</div>

<!-- CALL LOG -->
<div id="log" class="screen">
  <div class="log-item"><button onclick="callPast()">Past Me</button></div>
  <div class="log-item">Future Me</div>
  <div class="log-item">Mom</div>
  <div class="log-item">Jordan</div>
</div>

<script>
let state = "tap";
let timerInterval;
let seconds = 0;

function show(id) {
  document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  state = id;
}

document.getElementById("tap").onclick = async () => {
  show("lock");
  if (document.documentElement.requestFullscreen) {
    document.documentElement.requestFullscreen();
  }
};

function simulateIncoming() {
  if (state !== "lock") return;
  navigator.vibrate(200);
  show("incoming");
}

function answer() {
  show("inCall");
  startTimer();
}

function decline() {
  show("lock");
}

function startTimer() {
  seconds = 0;
  timerInterval = setInterval(() => {
    seconds++;
    const m = String(Math.floor(seconds / 60)).padStart(2,"0");
    const s = String(seconds % 60).padStart(2,"0");
    document.getElementById("timer").textContent = `${m}:${s}`;
  },1000);
}

function hangUp() {
  clearInterval(timerInterval);
  show("log");
}

function callPast() {
  document.getElementById("callName").textContent = "Past Me";
  show("inCall");
  startTimer();
}

/* flip trigger */
window.addEventListener("deviceorientation", e => {
  if (state === "lock" && e.beta < -150) {
    setTimeout(simulateIncoming, 1000);
  }
});
</script>

</body>
</html>
