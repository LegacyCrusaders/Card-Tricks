<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<title>Time Call</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: black;
  color: white;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
}

button {
  border: none;
  color: white;
}

.screen {
  position: fixed;
  inset: 0;
  display: none;
}

.active { display: flex; }

.center {
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

/* TAP */
#tap {
  background: radial-gradient(circle at top, #222, #000);
  font-size: 26px;
}

#tap .version {
  font-size: 14px;
  margin-top: 10px;
  opacity: 0.7;
}

/* LOCK */
#lock {
  background: linear-gradient(#1a1a1a, #000);
  flex-direction: column;
  justify-content: space-between;
  padding: 40px 30px;
}

.lock-top {
  text-align: center;
  font-size: 34px;
}

.lock-time {
  font-size: 96px;
  font-weight: 300;
  margin-top: 20px;
}

.lock-bottom {
  display: flex;
  justify-content: space-between;
  font-size: 32px;
}

/* INCOMING */
#incoming {
  background: linear-gradient(#2b2b2b, #000);
}

#incoming .caller {
  font-size: 34px;
}

#incoming .label {
  font-size: 18px;
  opacity: 0.7;
  margin-bottom: 40px;
}

.call-buttons {
  width: 100%;
  display: flex;
  justify-content: space-around;
}

.call-buttons button {
  width: 90px;
  height: 90px;
  border-radius: 50%;
  font-size: 14px;
}

.decline { background: #b00020; }
.answer { background: #2ea043; }

/* IN CALL */
#call {
  background: linear-gradient(#1c1c1c, #000);
  text-align: center;
}

#call .name {
  font-size: 32px;
  margin-top: 60px;
}

#call .timer {
  font-size: 18px;
  opacity: 0.7;
  margin-top: 6px;
}

.hangup {
  margin-top: auto;
  margin-bottom: 60px;
  width: 90px;
  height: 90px;
  border-radius: 50%;
  background: #b00020;
}

/* LOG */
#log {
  background: black;
  flex-direction: column;
  padding-top: 40px;
}

.log-item {
  padding: 20px 24px;
  font-size: 22px;
  border-bottom: 1px solid #222;
}

.log-item button {
  width: 100%;
  background: none;
  color: #0a84ff;
  font-size: 22px;
  text-align: left;
}
</style>
</head>

<body>

<div id="tap" class="screen active center">
  <div>Tap to Begin</div>
  <div class="version">Version 6</div>
</div>

<div id="lock" class="screen">
  <div class="lock-top">ðŸ”’</div>
  <div class="lock-time" id="lockTime">--:--</div>
  <div class="lock-bottom">
    <div>ðŸ“ž</div>
    <div>ðŸ“·</div>
  </div>
</div>

<div id="incoming" class="screen center">
  <div class="caller">Future Me</div>
  <div class="label">incoming call</div>
  <div class="call-buttons">
    <button class="decline" onclick="endCall()">Decline</button>
    <button class="answer" onclick="answerCall()">Answer</button>
  </div>
</div>

<div id="call" class="screen center">
  <div class="name" id="callName">Future Me</div>
  <div class="timer" id="timer">00:00</div>
  <button class="hangup" onclick="hangUp()">Hang Up</button>
</div>

<div id="log" class="screen">
  <div class="log-item">Future Me</div>
  <div class="log-item">Mom</div>
  <div class="log-item">Jordan</div>
  <div class="log-item">
    <button onclick="callPast()">Past Me</button>
  </div>
</div>

<script>
let timerInt, seconds = 0;

function show(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function updateTime() {
  const d = new Date();
  document.getElementById('lockTime').textContent =
    d.getHours()%12||12 + ':' + String(d.getMinutes()).padStart(2,'0');
}
setInterval(updateTime,1000);

document.getElementById('tap').onclick = async () => {
  show('lock');
  if (document.documentElement.requestFullscreen)
    await document.documentElement.requestFullscreen();
};

function answerCall() {
  seconds = 0;
  show('call');
  timerInt = setInterval(() => {
    seconds++;
    document.getElementById('timer').textContent =
      Math.floor(seconds/60).toString().padStart(2,'0') + ':' +
      (seconds%60).toString().padStart(2,'0');
  },1000);
}

function endCall() {
  show('lock');
}

function hangUp() {
  clearInterval(timerInt);
  show('log');
}

function callPast() {
  document.getElementById('callName').textContent = 'Past Me';
  answerCall();
}

/* flip trigger */
let down=false;
window.addEventListener('deviceorientation',e=>{
  if(e.beta>150||e.beta<-150) down=true;
  if(down && e.beta>-30 && e.beta<30){
    down=false;
    setTimeout(()=>show('incoming'),1000);
  }
});
</script>

</body>
</html>
