<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>3D Playing Card</title>
<style>
  body {
    font-family: system-ui, sans-serif;
    background: #0f172a;
    color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  .container {
    text-align: center;
  }

  .scene {
    width: 140px;
    height: 200px;
    perspective: 800px;
    margin: 20px auto;
  }

  .card {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.6s ease;
    cursor: pointer;
  }

  .card.face-up {
    transform: rotateY(180deg);
  }

  .card-face {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 12px;
    backface-visibility: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 42px;
    border: 2px solid #111;
  }

  .front {
    background: white;
    color: black;
    transform: rotateY(180deg);
  }

  .front.red {
    color: #b91c1c;
  }

  .back {
    background: repeating-linear-gradient(
      45deg,
      #1e293b,
      #1e293b 10px,
      #334155 10px,
      #334155 20px
    );
  }

  select, button {
    font-size: 16px;
    padding: 6px 10px;
    margin: 6px;
  }
</style>
</head>
<body>

<div class="container">
  <div class="scene">
    <div id="card" class="card">
      <div class="card-face front" id="front"></div>
      <div class="card-face back"></div>
    </div>
  </div>

  <div>
    <select id="cardSelect"></select>
  </div>

  <div>
    <button onclick="shuffleCard()">Shuffle</button>
    <button onclick="flipCard()">Flip</button>
  </div>
</div>

<script>
const suits = [
  { symbol: "♠", color: "black", name: "Spades" },
  { symbol: "♥", color: "red", name: "Hearts" },
  { symbol: "♦", color: "red", name: "Diamonds" },
  { symbol: "♣", color: "black", name: "Clubs" }
];

const values = ["A","2","3","4","5","6","7","8","9","10","J","Q","K"];

let deck = [];
let currentCard = null;
let faceUp = false;

function buildDeck() {
  deck = [];
  suits.forEach(suit => {
    values.forEach(value => {
      deck.push({
        label: value + suit.symbol,
        color: suit.color,
        name: `${value} of ${suit.name}`
      });
    });
  });
}

function populateDropdown() {
  const select = document.getElementById("cardSelect");
  deck.forEach((card, i) => {
    const opt = document.createElement("option");
    opt.value = i;
    opt.textContent = card.name;
    select.appendChild(opt);
  });

  select.addEventListener("change", () => {
    currentCard = deck[select.value];
    faceUp = true;
    updateCard();
  });
}

function shuffleCard() {
  const i = Math.floor(Math.random() * deck.length);
  currentCard = deck[i];
  document.getElementById("cardSelect").value = i;
  faceUp = true;
  updateCard();
}

function flipCard() {
  faceUp = !faceUp;
  updateCard();
}

function updateCard() {
  const card = document.getElementById("card");
  const front = document.getElementById("front");

  if (!currentCard) return;

  front.textContent = currentCard.label;
  front.className = "card-face front " + (currentCard.color === "red" ? "red" : "");

  card.classList.toggle("face-up", faceUp);
}

buildDeck();
populateDropdown();
shuffleCard();

document.getElementById("card").addEventListener("click", flipCard);
</script>

</body>
</html>
