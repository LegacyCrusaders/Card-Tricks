<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Card App</title>

<style>
  body {
    margin: 0;
    background: black;
    color: white;
    font-family: system-ui, -apple-system, BlinkMacSystemFont;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .app {
    width: 100%;
    max-width: 390px; /* iPhone width */
    text-align: center;
  }

  .scene {
    width: 60vw;
    max-width: 180px;
    aspect-ratio: 7 / 10;
    perspective: 900px;
    margin: 30px auto;
  }

  .card {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.55s ease;
  }

  .card.face-up {
    transform: rotateY(180deg);
  }

  .card-face {
    position: absolute;
    inset: 0;
    border-radius: 14px;
    backface-visibility: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 3rem;
    border: 2px solid #111;
  }

  .front {
    background: white;
    color: black;
    transform: rotateY(180deg);
  }

  .front.red {
    color: #b91c1c;
  }

  .back {
    background: repeating-linear-gradient(
      45deg,
      #111,
      #111 10px,
      #222 10px,
      #222 20px
    );
  }

  .controls {
    display: flex;
    justify-content: center;
    gap: 12px;
    margin-top: 10px;
  }

  button {
    background: #111;
    color: white;
    border: 1px solid #333;
    padding: 12px 16px;
    border-radius: 10px;
    font-size: 16px;
  }

  /* Overlay menu */
  .overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.9);
    display: none;
    justify-content: center;
    align-items: center;
  }

  .menu {
    width: 90%;
    max-width: 320px;
    background: #111;
    padding: 20px;
    border-radius: 14px;
  }

  select {
    width: 100%;
    font-size: 18px;
    padding: 10px;
    margin-bottom: 12px;
  }
</style>
</head>
<body>

<div class="app">
  <div class="scene">
    <div id="card" class="card">
      <div id="front" class="card-face front"></div>
      <div class="card-face back"></div>
    </div>
  </div>

  <div class="controls">
    <button onclick="shuffleCard()">Shuffle</button>
    <button onclick="openMenu()">Choose</button>
  </div>
</div>

<div id="overlay" class="overlay">
  <div class="menu">
    <select id="valueSelect">
      <option value="">Value</option>
    </select>
    <select id="suitSelect">
      <option value="">Suit</option>
    </select>
    <button style="width:100%;" onclick="confirmCard()">Confirm</button>
  </div>
</div>

<script>
const values = ["A","2","3","4","5","6","7","8","9","10","J","Q","K","Joker"];
const suits = [
  { symbol:"â™ ", color:"black", name:"Spades" },
  { symbol:"â™¥", color:"red", name:"Hearts" },
  { symbol:"â™¦", color:"red", name:"Diamonds" },
  { symbol:"â™£", color:"black", name:"Clubs" }
];

let currentCard = null;
let faceUp = false;

const front = document.getElementById("front");
const card = document.getElementById("card");
const overlay = document.getElementById("overlay");
const valueSelect = document.getElementById("valueSelect");
const suitSelect = document.getElementById("suitSelect");

values.forEach(v => {
  const o = document.createElement("option");
  o.value = v;
  o.textContent = v;
  valueSelect.appendChild(o);
});

suits.forEach(s => {
  const o = document.createElement("option");
  o.value = s.symbol;
  o.textContent = s.name;
  suitSelect.appendChild(o);
});

valueSelect.onchange = () => {
  suitSelect.disabled = valueSelect.value === "Joker";
};

function openMenu() {
  overlay.style.display = "flex";
}

function confirmCard() {
  const v = valueSelect.value;
  if (!v) return;

  if (v === "Joker") {
    currentCard = { label:"ðŸƒ", color:"black" };
  } else {
    const s = suits.find(x => x.symbol === suitSelect.value);
    if (!s) return;
    currentCard = { label: v + s.symbol, color: s.color };
  }

  faceUp = false;
  updateCard();
  overlay.style.display = "none";
}

function shuffleCard() {
  const v = values[Math.floor(Math.random() * values.length)];
  if (v === "Joker") {
    currentCard = { label:"ðŸƒ", color:"black" };
  } else {
    const s = suits[Math.floor(Math.random() * suits.length)];
    currentCard = { label: v + s.symbol, color: s.color };
  }
  faceUp = false;
  updateCard();
}

function updateCard() {
  if (faceUp && currentCard) {
    front.textContent = currentCard.label;
    front.className = "card-face front " + (currentCard.color === "red" ? "red" : "");
  } else {
    front.textContent = "";
  }
  card.classList.toggle("face-up", faceUp);
}

card.onclick = () => {
  faceUp = !faceUp;
  updateCard();
};
</script>

</body>
</html>
