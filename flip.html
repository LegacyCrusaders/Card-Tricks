<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>3D Card</title>
<style>
  body {
    margin: 0;
    background: black;
    color: white;
    font-family: system-ui, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  .container {
    text-align: center;
  }

  .scene {
    width: 140px;
    height: 200px;
    perspective: 800px;
    margin: 20px auto;
  }

  .card {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.6s ease;
    cursor: pointer;
  }

  .card.face-up {
    transform: rotateY(180deg);
  }

  .card-face {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 12px;
    backface-visibility: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 42px;
    border: 2px solid #111;
  }

  .front {
    background: white;
    color: black;
    transform: rotateY(180deg);
  }

  .front.red {
    color: #b91c1c;
  }

  .back {
    background: repeating-linear-gradient(
      45deg,
      #111,
      #111 10px,
      #222 10px,
      #222 20px
    );
  }

  button {
    font-size: 16px;
    padding: 8px 14px;
    margin-top: 10px;
    cursor: pointer;
  }

  /* Popup menu */
  .overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.85);
    display: none;
    justify-content: center;
    align-items: center;
  }

  .menu {
    background: #111;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
  }

  select {
    font-size: 16px;
    margin: 8px;
    padding: 6px;
  }
</style>
</head>
<body>

<div class="container">
  <div class="scene">
    <div id="card" class="card">
      <div id="front" class="card-face front"></div>
      <div class="card-face back"></div>
    </div>
  </div>

  <button onclick="openMenu()">Choose Card</button>
</div>

<div id="overlay" class="overlay">
  <div class="menu">
    <div>
      <select id="valueSelect">
        <option value="">Value</option>
      </select>
    </div>
    <div>
      <select id="suitSelect">
        <option value="">Suit</option>
      </select>
    </div>
    <div>
      <button onclick="confirmCard()">Confirm</button>
    </div>
  </div>
</div>

<script>
const values = ["A","2","3","4","5","6","7","8","9","10","J","Q","K","Joker"];
const suits = [
  { symbol: "â™ ", color: "black", name: "Spades" },
  { symbol: "â™¥", color: "red", name: "Hearts" },
  { symbol: "â™¦", color: "red", name: "Diamonds" },
  { symbol: "â™£", color: "black", name: "Clubs" }
];

let currentCard = null;
let faceUp = false;

const valueSelect = document.getElementById("valueSelect");
const suitSelect = document.getElementById("suitSelect");

values.forEach(v => {
  const opt = document.createElement("option");
  opt.value = v;
  opt.textContent = v;
  valueSelect.appendChild(opt);
});

suits.forEach(s => {
  const opt = document.createElement("option");
  opt.value = s.symbol;
  opt.textContent = s.name;
  suitSelect.appendChild(opt);
});

valueSelect.addEventListener("change", () => {
  suitSelect.disabled = valueSelect.value === "Joker";
});

function openMenu() {
  document.getElementById("overlay").style.display = "flex";
}

function confirmCard() {
  const value = valueSelect.value;
  if (!value) return;

  if (value === "Joker") {
    currentCard = { label: "ðŸƒ", color: "black" };
  } else {
    const suit = suits.find(s => s.symbol === suitSelect.value);
    if (!suit) return;
    currentCard = {
      label: value + suit.symbol,
      color: suit.color
    };
  }

  faceUp = false;
  updateCard();
  document.getElementById("overlay").style.display = "none";
}

function flipCard() {
  faceUp = !faceUp;
  updateCard();
}

function updateCard() {
  const card = document.getElementById("card");
  const front = document.getElementById("front");

  if (faceUp && currentCard) {
    front.textContent = currentCard.label;
    front.className = "card-face front " + (currentCard.color === "red" ? "red" : "");
  } else {
    front.textContent = "";
  }

  card.classList.toggle("face-up", faceUp);
}

document.getElementById("card").addEventListener("click", flipCard);
</script>

</body>
</html>
